(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "./node_modules/vue-datetime/dist/vue-datetime.js":
/*!********************************************************!*\
  !*** ./node_modules/vue-datetime/dist/vue-datetime.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n * vue-datetime v1.0.0-beta.14\n * (c) 2020 Mario JuÃ¡rez\n * Released under the MIT License.\n */\n\n(function (global, factory) {\n\t true ? factory(exports, __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'luxon'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))) :\n\tundefined;\n}(this, (function (exports,luxon) { 'use strict';\n\nvar FlowManager = function FlowManager (flow, endStatus) {\n  if ( flow === void 0 ) flow = [];\n  if ( endStatus === void 0 ) endStatus = null;\n\n  this.flow = flow;\n  this.endStatus = endStatus;\n  this.diversionNext = null;\n};\n\nFlowManager.prototype.step = function step (index) {\n  return this.flow.length > index ? this.flow[index] : this.endStatus\n};\n\nFlowManager.prototype.first = function first () {\n  return this.step(0)\n};\n\nFlowManager.prototype.next = function next (current) {\n  if (this.diversionNext) {\n    var next = this.diversionNext;\n    this.diversionNext = null;\n\n    return next\n  }\n\n  return this.step(this.flow.indexOf(current) + 1)\n};\n\nFlowManager.prototype.diversion = function diversion (next) {\n  this.diversionNext = next;\n};\n\nfunction capitalize (string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nfunction datetimeFromISO (string) {\n  var datetime = luxon.DateTime.fromISO(string).toUTC();\n\n  return datetime.isValid ? datetime : null\n}\n\nfunction monthDays (year, month, weekStart) {\n  var monthDate = luxon.DateTime.local(year, month, 1);\n  var firstDay = monthDate.weekday - weekStart;\n\n  if (firstDay < 0) {\n    firstDay += 7;\n  }\n  var lastDay = (weekStart - monthDate.weekday - monthDate.daysInMonth) % 7;\n  if (lastDay < 0) {\n    lastDay += 7;\n  }\n\n  return Array.apply(null, Array(monthDate.daysInMonth + firstDay + lastDay))\n    .map(function (value, index) { return (index + 1 <= firstDay || index >= firstDay + monthDate.daysInMonth) ? null : (index + 1 - firstDay); }\n    )\n}\n\nfunction monthDayIsDisabled (minDate, maxDate, year, month, day) {\n  var date = luxon.DateTime.fromObject({ year: year, month: month, day: day, zone: 'UTC' });\n\n  minDate = minDate ? startOfDay(minDate.setZone('UTC', { keepLocalTime: true })) : null;\n  maxDate = maxDate ? startOfDay(maxDate.setZone('UTC', { keepLocalTime: true })) : null;\n\n  return (minDate && date < minDate) ||\n         (maxDate && date > maxDate)\n}\n\nfunction monthIsDisabled (minDate, maxDate, year, month) {\n  return (minDate && minDate > luxon.DateTime.utc(year, month, luxon.DateTime.utc(year, month).daysInMonth)) ||\n         (maxDate && maxDate < luxon.DateTime.utc(year, month, 1))\n}\n\nfunction yearIsDisabled (minDate, maxDate, year) {\n  var minYear = minDate ? minDate.year : null;\n  var maxYear = maxDate ? maxDate.year : null;\n\n  return (minYear && year < minYear) ||\n         (maxYear && year > maxYear)\n}\n\nfunction timeComponentIsDisabled (min, max, component) {\n  return (min !== null && component < min) ||\n         (max !== null && component > max)\n}\n\nfunction weekdays (weekStart) {\n  if (--weekStart < 0) {\n    weekStart = 6;\n  }\n\n  var weekDays = luxon.Info.weekdays('short').map(function (weekday) { return capitalize(weekday); });\n\n  weekDays = weekDays.concat(weekDays.splice(0, weekStart));\n\n  return weekDays\n}\n\nfunction months () {\n  return luxon.Info.months().map(function (month) { return capitalize(month); })\n}\n\nfunction hours (step) {\n  return Array.apply(null, Array(Math.ceil(24 / step))).map(function (item, index) { return index * step; })\n}\n\nfunction minutes (step) {\n  return Array.apply(null, Array(Math.ceil(60 / step))).map(function (item, index) { return index * step; })\n}\n\nfunction years (current) {\n  return Array.apply(null, Array(201)).map(function (item, index) { return current - 100 + index; })\n}\n\nfunction pad (number) {\n  return number < 10 ? '0' + number : number\n}\n\nfunction startOfDay (datetime) {\n  return datetime.startOf('day')\n}\n\nfunction createFlowManager (flow) {\n  return new FlowManager(flow, 'end')\n}\n\nfunction createFlowManagerFromType (type) {\n  var flow = [];\n\n  switch (type) {\n    case 'datetime':\n      flow = ['date', 'time'];\n      break\n    case 'time':\n      flow = ['time'];\n      break\n    default:\n      flow = ['date'];\n  }\n\n  return new FlowManager(flow, 'end')\n}\n\nfunction weekStart () {\n  var weekstart;\n\n  try {\n    weekstart = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'weekstart/package.json'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())).version ? __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'weekstart'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())) : null;\n  } catch (e) {\n    weekstart = window.weekstart;\n  }\n\n  var firstDay = weekstart ? weekstart.getWeekStartByLocale(luxon.Settings.defaultLocale) : 1;\n\n  return firstDay === 0 ? 7 : firstDay\n}\n\nvar DatetimeCalendar = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdatetime-calendar\"},[_c('div',{staticClass:\"vdatetime-calendar__navigation\"},[_c('div',{staticClass:\"vdatetime-calendar__navigation--previous\",on:{\"click\":_vm.previousMonth}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 61.3 102.8\"}},[_c('path',{attrs:{\"fill\":\"none\",\"stroke\":\"#444\",\"stroke-width\":\"14\",\"stroke-miterlimit\":\"10\",\"d\":\"M56.3 97.8L9.9 51.4 56.3 5\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-calendar__current--month\"},[_vm._v(_vm._s(_vm.monthName)+\" \"+_vm._s(_vm.newYear))]),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-calendar__navigation--next\",on:{\"click\":_vm.nextMonth}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 61.3 102.8\"}},[_c('path',{attrs:{\"fill\":\"none\",\"stroke\":\"#444\",\"stroke-width\":\"14\",\"stroke-miterlimit\":\"10\",\"d\":\"M56.3 97.8L9.9 51.4 56.3 5\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-calendar__month\"},[_vm._l((_vm.weekdays),function(weekday){return _c('div',{staticClass:\"vdatetime-calendar__month__weekday\"},[_vm._v(_vm._s(weekday))])}),_vm._v(\" \"),_vm._l((_vm.days),function(day){return _c('div',{staticClass:\"vdatetime-calendar__month__day\",class:{'vdatetime-calendar__month__day--selected': day.selected, 'vdatetime-calendar__month__day--disabled': day.disabled},on:{\"click\":function($event){_vm.selectDay(day);}}},[_c('span',[_c('span',[_vm._v(_vm._s(day.number))])])])})],2)])},staticRenderFns: [],\n  props: {\n    year: {\n      type: Number,\n      required: true\n    },\n    month: {\n      type: Number,\n      required: true\n    },\n    day: {\n      type: Number,\n      default: null\n    },\n    disabled: {\n      type: Array\n    },\n    minDate: {\n      type: luxon.DateTime,\n      default: null\n    },\n    maxDate: {\n      type: luxon.DateTime,\n      default: null\n    },\n    weekStart: {\n      type: Number,\n      default: 1\n    }\n  },\n\n  data: function data () {\n    return {\n      newDate: luxon.DateTime.fromObject({ year: this.year, month: this.month, zone: 'UTC' }),\n      weekdays: weekdays(this.weekStart),\n      months: months()\n    }\n  },\n\n  computed: {\n    newYear: function newYear () {\n      return this.newDate.year\n    },\n    newMonth: function newMonth () {\n      return this.newDate.month\n    },\n    monthName: function monthName () {\n      return this.months[this.newMonth - 1]\n    },\n    days: function days () {\n      var this$1 = this;\n\n      return monthDays(this.newYear, this.newMonth, this.weekStart).map(function (day) { return ({\n        number: day,\n        selected: day && this$1.year === this$1.newYear && this$1.month === this$1.newMonth && this$1.day === day,\n        disabled: !day || monthDayIsDisabled(this$1.minDate, this$1.maxDate, this$1.newYear, this$1.newMonth, day)\n      }); })\n    }\n  },\n\n  methods: {\n    selectDay: function selectDay (day) {\n      if (day.disabled) {\n        return\n      }\n\n      this.$emit('change', this.newYear, this.newMonth, day.number);\n    },\n    previousMonth: function previousMonth () {\n      this.newDate = this.newDate.minus({ months: 1 });\n    },\n    nextMonth: function nextMonth () {\n      this.newDate = this.newDate.plus({ months: 1 });\n    }\n  }\n};\n\nvar DatetimeTimePicker = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'vdatetime-time-picker': true, 'vdatetime-time-picker__with-suffix': _vm.use12Hour}},[_c('div',{ref:\"hourList\",staticClass:\"vdatetime-time-picker__list vdatetime-time-picker__list--hours\"},_vm._l((_vm.hours),function(hour){return _c('div',{staticClass:\"vdatetime-time-picker__item\",class:{'vdatetime-time-picker__item--selected': hour.selected, 'vdatetime-time-picker__item--disabled': hour.disabled},on:{\"click\":function($event){_vm.selectHour(hour);}}},[_vm._v(_vm._s(_vm.formatHour(hour.number)))])})),_vm._v(\" \"),_c('div',{ref:\"minuteList\",staticClass:\"vdatetime-time-picker__list vdatetime-time-picker__list--minutes\"},_vm._l((_vm.minutes),function(minute){return _c('div',{staticClass:\"vdatetime-time-picker__item\",class:{'vdatetime-time-picker__item--selected': minute.selected, 'vdatetime-time-picker__item--disabled': minute.disabled},on:{\"click\":function($event){_vm.selectMinute(minute);}}},[_vm._v(_vm._s(minute.number))])})),_vm._v(\" \"),(_vm.use12Hour)?_c('div',{ref:\"suffixList\",staticClass:\"vdatetime-time-picker__list vdatetime-time-picker__list--suffix\"},[_c('div',{staticClass:\"vdatetime-time-picker__item\",class:{'vdatetime-time-picker__item--selected': _vm.hour < 12},on:{\"click\":function($event){_vm.selectSuffix('am');}}},[_vm._v(\"am\")]),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-time-picker__item\",class:{'vdatetime-time-picker__item--selected': _vm.hour >= 12},on:{\"click\":function($event){_vm.selectSuffix('pm');}}},[_vm._v(\"pm\")])]):_vm._e()])},staticRenderFns: [],\n  props: {\n    hour: {\n      type: Number,\n      required: true\n    },\n    minute: {\n      type: Number,\n      required: true\n    },\n    use12Hour: {\n      type: Boolean,\n      default: false\n    },\n    hourStep: {\n      type: Number,\n      default: 1\n    },\n    minuteStep: {\n      type: Number,\n      default: 1\n    },\n    minTime: {\n      type: String,\n      default: null\n    },\n    maxTime: {\n      type: String,\n      default: null\n    }\n  },\n\n  computed: {\n    hours: function hours$1 () {\n      var this$1 = this;\n\n      return hours(this.hourStep).filter(function (hour) {\n        if (!this$1.use12Hour) {\n          return true\n        } else {\n          if (this$1.hour < 12) {\n            return hour < 12\n          } else {\n            return hour >= 12\n          }\n        }\n      }).map(function (hour) { return ({\n        number: pad(hour),\n        selected: hour === this$1.hour,\n        disabled: timeComponentIsDisabled(this$1.minHour, this$1.maxHour, hour)\n      }); })\n    },\n    minutes: function minutes$1 () {\n      var this$1 = this;\n\n      return minutes(this.minuteStep).map(function (minute) { return ({\n        number: pad(minute),\n        selected: minute === this$1.minute,\n        disabled: timeComponentIsDisabled(this$1.minMinute, this$1.maxMinute, minute)\n      }); })\n    },\n    minHour: function minHour () {\n      return this.minTime ? parseInt(this.minTime.split(':')[0]) : null\n    },\n    minMinute: function minMinute () {\n      return this.minTime && this.minHour === this.hour ? parseInt(this.minTime.split(':')[1]) : null\n    },\n    maxHour: function maxHour () {\n      return this.maxTime ? parseInt(this.maxTime.split(':')[0]) : null\n    },\n    maxMinute: function maxMinute () {\n      return this.maxTime && this.maxHour === this.hour ? parseInt(this.maxTime.split(':')[1]) : null\n    }\n  },\n\n  methods: {\n    selectHour: function selectHour (hour) {\n      if (hour.disabled) {\n        return\n      }\n\n      this.$emit('change', { hour: parseInt(hour.number) });\n    },\n    selectMinute: function selectMinute (minute) {\n      if (minute.disabled) {\n        return\n      }\n\n      this.$emit('change', { minute: parseInt(minute.number) });\n    },\n    selectSuffix: function selectSuffix (suffix) {\n      if (suffix === 'am') {\n        if (this.hour >= 12) {\n          this.$emit('change', { hour: parseInt(this.hour - 12), suffixTouched: true });\n        }\n      }\n      if (suffix === 'pm') {\n        if (this.hour < 12) {\n          this.$emit('change', { hour: parseInt(this.hour + 12), suffixTouched: true });\n        }\n      }\n    },\n    formatHour: function formatHour (hour) {\n      var numHour = Number(hour);\n      if (this.use12Hour) {\n        if (numHour === 0) {\n          return 12\n        }\n        if (numHour > 12) {\n          return numHour - 12\n        }\n        return numHour\n      }\n      return hour\n    }\n  },\n\n  mounted: function mounted () {\n    var selectedHour = this.$refs.hourList.querySelector('.vdatetime-time-picker__item--selected');\n    var selectedMinute = this.$refs.minuteList.querySelector('.vdatetime-time-picker__item--selected');\n    this.$refs.hourList.scrollTop = selectedHour ? selectedHour.offsetTop - 250 : 0;\n    this.$refs.minuteList.scrollTop = selectedMinute ? selectedMinute.offsetTop - 250 : 0;\n  }\n};\n\nvar DatetimeYearPicker = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdatetime-year-picker\"},[_c('div',{ref:\"yearList\",staticClass:\"vdatetime-year-picker__list vdatetime-year-picker__list\"},_vm._l((_vm.years),function(year){return _c('div',{staticClass:\"vdatetime-year-picker__item\",class:{'vdatetime-year-picker__item--selected': year.selected, 'vdatetime-year-picker__item--disabled': year.disabled},on:{\"click\":function($event){_vm.select(year);}}},[_vm._v(_vm._s(year.number)+\" \")])}))])},staticRenderFns: [],\n  props: {\n    year: {\n      type: Number,\n      required: true\n    },\n    minDate: {\n      type: luxon.DateTime,\n      default: null\n    },\n    maxDate: {\n      type: luxon.DateTime,\n      default: null\n    }\n  },\n\n  computed: {\n    years: function years$1 () {\n      var this$1 = this;\n\n      return years(this.year).map(function (year) { return ({\n        number: year,\n        selected: year === this$1.year,\n        disabled: !year || yearIsDisabled(this$1.minDate, this$1.maxDate, year)\n      }); })\n    }\n  },\n\n  methods: {\n    select: function select (year) {\n      if (year.disabled) {\n        return\n      }\n\n      this.$emit('change', parseInt(year.number));\n    },\n\n    scrollToCurrent: function scrollToCurrent () {\n      if (this.$refs.yearList) {\n        var selectedYear = this.$refs.yearList.querySelector('.vdatetime-year-picker__item--selected');\n        this.$refs.yearList.scrollTop = selectedYear ? selectedYear.offsetTop - 250 : 0;\n      }\n    }\n  },\n\n  mounted: function mounted () {\n    this.scrollToCurrent();\n  },\n\n  updated: function updated () {\n    this.scrollToCurrent();\n  }\n};\n\nvar DatetimeMonthPicker = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdatetime-month-picker\"},[_c('div',{ref:\"monthList\",staticClass:\"vdatetime-month-picker__list vdatetime-month-picker__list\"},_vm._l((_vm.months),function(month){return _c('div',{staticClass:\"vdatetime-month-picker__item\",class:{'vdatetime-month-picker__item--selected': month.selected, 'vdatetime-month-picker__item--disabled': month.disabled},on:{\"click\":function($event){_vm.select(month);}}},[_vm._v(_vm._s(month.label)+\" \")])}))])},staticRenderFns: [],\n  props: {\n    year: {\n      type: Number,\n      required: true\n    },\n    month: {\n      type: Number,\n      required: true\n    },\n    minDate: {\n      type: luxon.DateTime,\n      default: null\n    },\n    maxDate: {\n      type: luxon.DateTime,\n      default: null\n    }\n  },\n\n  computed: {\n    months: function months$1 () {\n      var this$1 = this;\n\n      return months(this.month).map(function (month, index) { return ({\n        number: ++index,\n        label: month,\n        selected: index === this$1.month,\n        disabled: !index || monthIsDisabled(this$1.minDate, this$1.maxDate, this$1.year, index)\n      }); })\n    }\n  },\n\n  methods: {\n    select: function select (month) {\n      if (month.disabled) {\n        return\n      }\n\n      this.$emit('change', parseInt(month.number));\n    },\n\n    scrollToCurrent: function scrollToCurrent () {\n      var selectedMonth = this.$refs.monthList.querySelector('.vdatetime-month-picker__item--selected');\n      this.$refs.monthList.scrollTop = selectedMonth ? selectedMonth.offsetTop - 250 : 0;\n    }\n  },\n\n  mounted: function mounted () {\n    this.scrollToCurrent();\n  },\n\n  updated: function updated () {\n    this.scrollToCurrent();\n  }\n};\n\nvar KEY_TAB = 9;\nvar KEY_ENTER = 13;\nvar KEY_ESC = 27;\n\nvar DatetimePopup = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdatetime-popup\"},[_c('div',{staticClass:\"vdatetime-popup__header\"},[(_vm.title)?_c('div',{staticClass:\"vdatetime-popup__title\"},[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._v(\" \"),(_vm.type !== 'time')?_c('div',{staticClass:\"vdatetime-popup__year\",on:{\"click\":_vm.showYear}},[_vm._v(_vm._s(_vm.year))]):_vm._e(),_vm._v(\" \"),(_vm.type !== 'time')?_c('div',{staticClass:\"vdatetime-popup__date\",on:{\"click\":_vm.showMonth}},[_vm._v(_vm._s(_vm.dateFormatted))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-popup__body\"},[(_vm.step === 'year')?_c('datetime-year-picker',{attrs:{\"min-date\":_vm.minDatetime,\"max-date\":_vm.maxDatetime,\"year\":_vm.year},on:{\"change\":_vm.onChangeYear}}):_vm._e(),_vm._v(\" \"),(_vm.step === 'month')?_c('datetime-month-picker',{attrs:{\"min-date\":_vm.minDatetime,\"max-date\":_vm.maxDatetime,\"year\":_vm.year,\"month\":_vm.month},on:{\"change\":_vm.onChangeMonth}}):_vm._e(),_vm._v(\" \"),(_vm.step === 'date')?_c('datetime-calendar',{attrs:{\"year\":_vm.year,\"month\":_vm.month,\"day\":_vm.day,\"min-date\":_vm.minDatetime,\"max-date\":_vm.maxDatetime,\"week-start\":_vm.weekStart},on:{\"change\":_vm.onChangeDate}}):_vm._e(),_vm._v(\" \"),(_vm.step === 'time')?_c('datetime-time-picker',{attrs:{\"hour\":_vm.hour,\"minute\":_vm.minute,\"use12-hour\":_vm.use12Hour,\"hour-step\":_vm.hourStep,\"minute-step\":_vm.minuteStep,\"min-time\":_vm.minTime,\"max-time\":_vm.maxTime},on:{\"change\":_vm.onChangeTime}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-popup__actions\"},[_c('div',{staticClass:\"vdatetime-popup__actions__button vdatetime-popup__actions__button--cancel\",on:{\"click\":_vm.cancel}},[_vm._t(\"button-cancel__internal\",[_vm._v(_vm._s(_vm.phrases.cancel))],{step:_vm.step})],2),_vm._v(\" \"),_c('div',{staticClass:\"vdatetime-popup__actions__button vdatetime-popup__actions__button--confirm\",on:{\"click\":_vm.confirm}},[_vm._t(\"button-confirm__internal\",[_vm._v(_vm._s(_vm.phrases.ok))],{step:_vm.step})],2)])])},staticRenderFns: [],\n  components: {\n    DatetimeCalendar: DatetimeCalendar,\n    DatetimeTimePicker: DatetimeTimePicker,\n    DatetimeYearPicker: DatetimeYearPicker,\n    DatetimeMonthPicker: DatetimeMonthPicker\n  },\n\n  props: {\n    datetime: {\n      type: luxon.DateTime,\n      required: true\n    },\n    phrases: {\n      type: Object,\n      default: function default$1 () {\n        return {\n          cancel: 'Cancel',\n          ok: 'Ok'\n        }\n      }\n    },\n    type: {\n      type: String,\n      default: 'date'\n    },\n    use12Hour: {\n      type: Boolean,\n      default: false\n    },\n    hourStep: {\n      type: Number,\n      default: 1\n    },\n    minuteStep: {\n      type: Number,\n      default: 1\n    },\n    minDatetime: {\n      type: luxon.DateTime,\n      default: null\n    },\n    maxDatetime: {\n      type: luxon.DateTime,\n      default: null\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    },\n    weekStart: {\n      type: Number,\n      default: 1\n    },\n    flow: {\n      type: Array\n    },\n    title: {\n      type: String\n    }\n  },\n\n  data: function data () {\n    var flowManager = this.flow\n      ? createFlowManager(this.flow)\n      : createFlowManagerFromType(this.type);\n\n    return {\n      newDatetime: this.datetime,\n      flowManager: flowManager,\n      step: flowManager.first(),\n      timePartsTouched: []\n    }\n  },\n\n  created: function created () {\n    document.addEventListener('keydown', this.onKeyDown);\n  },\n\n  beforeDestroy: function beforeDestroy () {\n    document.removeEventListener('keydown', this.onKeyDown);\n  },\n\n  computed: {\n    year: function year () {\n      return this.newDatetime.year\n    },\n    month: function month () {\n      return this.newDatetime.month\n    },\n    day: function day () {\n      return this.newDatetime.day\n    },\n    hour: function hour () {\n      return this.newDatetime.hour\n    },\n    minute: function minute () {\n      return this.newDatetime.minute\n    },\n    dateFormatted: function dateFormatted () {\n      return this.newDatetime.toLocaleString({\n        month: 'long',\n        day: 'numeric'\n      })\n    },\n    minTime: function minTime () {\n      return (\n        this.minDatetime &&\n        this.minDatetime.year === this.year &&\n        this.minDatetime.month === this.month &&\n        this.minDatetime.day === this.day\n      ) ? this.minDatetime.toFormat('HH:mm') : null\n    },\n    maxTime: function maxTime () {\n      return (\n        this.maxDatetime &&\n        this.maxDatetime.year === this.year &&\n        this.maxDatetime.month === this.month &&\n        this.maxDatetime.day === this.day\n      ) ? this.maxDatetime.toFormat('HH:mm') : null\n    }\n  },\n\n  methods: {\n    nextStep: function nextStep () {\n      this.step = this.flowManager.next(this.step);\n      this.timePartsTouched = [];\n\n      if (this.step === 'end') {\n        this.$emit('confirm', this.newDatetime);\n      }\n    },\n    showYear: function showYear () {\n      this.step = 'year';\n      this.flowManager.diversion('date');\n    },\n    showMonth: function showMonth () {\n      this.step = 'month';\n      this.flowManager.diversion('date');\n    },\n    confirm: function confirm () {\n      this.nextStep();\n    },\n    cancel: function cancel () {\n      this.$emit('cancel');\n    },\n    onChangeYear: function onChangeYear (year) {\n      this.newDatetime = this.newDatetime.set({ year: year });\n\n      if (this.auto) {\n        this.nextStep();\n      }\n    },\n    onChangeMonth: function onChangeMonth (month) {\n      this.newDatetime = this.newDatetime.set({ month: month });\n\n      if (this.auto) {\n        this.nextStep();\n      }\n    },\n    onChangeDate: function onChangeDate (year, month, day) {\n      this.newDatetime = this.newDatetime.set({ year: year, month: month, day: day });\n\n      if (this.auto) {\n        this.nextStep();\n      }\n    },\n    onChangeTime: function onChangeTime (ref) {\n      var hour = ref.hour;\n      var minute = ref.minute;\n      var suffixTouched = ref.suffixTouched;\n\n      if (suffixTouched) {\n        this.timePartsTouched['suffix'] = true;\n      }\n\n      if (Number.isInteger(hour)) {\n        this.newDatetime = this.newDatetime.set({ hour: hour });\n        this.timePartsTouched['hour'] = true;\n      }\n\n      if (Number.isInteger(minute)) {\n        this.newDatetime = this.newDatetime.set({ minute: minute });\n        this.timePartsTouched['minute'] = true;\n      }\n\n      var goNext = this.auto && this.timePartsTouched['hour'] && this.timePartsTouched['minute'] && (\n        this.timePartsTouched['suffix'] ||\n        !this.use12Hour\n      );\n\n      if (goNext) {\n        this.nextStep();\n      }\n    },\n    onKeyDown: function onKeyDown (event) {\n      switch (event.keyCode) {\n        case KEY_ESC:\n        case KEY_TAB:\n          this.cancel();\n          break\n\n        case KEY_ENTER:\n          this.nextStep();\n          break\n      }\n    }\n  }\n};\n\nvar Datetime = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdatetime\"},[_vm._t(\"before\"),_vm._v(\" \"),_c('input',_vm._g(_vm._b({staticClass:\"vdatetime-input\",class:_vm.inputClass,style:(_vm.inputStyle),attrs:{\"id\":_vm.inputId,\"type\":\"text\"},domProps:{\"value\":_vm.inputValue},on:{\"click\":_vm.open,\"focus\":_vm.open}},'input',_vm.$attrs,false),_vm.$listeners)),_vm._v(\" \"),(_vm.hiddenName)?_c('input',{attrs:{\"type\":\"hidden\",\"name\":_vm.hiddenName},domProps:{\"value\":_vm.value},on:{\"input\":_vm.setValue}}):_vm._e(),_vm._v(\" \"),_vm._t(\"after\"),_vm._v(\" \"),_c('transition-group',{attrs:{\"name\":\"vdatetime-fade\",\"tag\":\"div\"}},[(_vm.isOpen && !_vm.hideBackdrop)?_c('div',{key:\"overlay\",staticClass:\"vdatetime-overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.clickOutside($event);}}}):_vm._e(),_vm._v(\" \"),(_vm.isOpen)?_c('datetime-popup',{key:\"popup\",attrs:{\"type\":_vm.type,\"datetime\":_vm.popupDate,\"phrases\":_vm.phrases,\"use12-hour\":_vm.use12Hour,\"hour-step\":_vm.hourStep,\"minute-step\":_vm.minuteStep,\"min-datetime\":_vm.popupMinDatetime,\"max-datetime\":_vm.popupMaxDatetime,\"auto\":_vm.auto,\"week-start\":_vm.weekStart,\"flow\":_vm.flow,\"title\":_vm.title},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},scopedSlots:_vm._u([{key:\"button-cancel__internal\",fn:function(scope){return [_vm._t(\"button-cancel\",[_vm._v(_vm._s(_vm.phrases.cancel))],{step:scope.step})]}},{key:\"button-confirm__internal\",fn:function(scope){return [_vm._t(\"button-confirm\",[_vm._v(_vm._s(_vm.phrases.ok))],{step:scope.step})]}}])}):_vm._e()],1)],2)},staticRenderFns: [],\n  components: {\n    DatetimePopup: DatetimePopup\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    value: {\n      type: String\n    },\n    valueZone: {\n      type: String,\n      default: 'UTC'\n    },\n    inputId: {\n      type: String,\n      default: null\n    },\n    inputClass: {\n      type: [Object, Array, String],\n      default: ''\n    },\n    inputStyle: {\n      type: [Object, Array, String],\n      default: ''\n    },\n    hiddenName: {\n      type: String\n    },\n    zone: {\n      type: String,\n      default: 'local'\n    },\n    format: {\n      type: [Object, String],\n      default: null\n    },\n    type: {\n      type: String,\n      default: 'date'\n    },\n    phrases: {\n      type: Object,\n      default: function default$1 () {\n        return {\n          cancel: 'Cancel',\n          ok: 'Ok'\n        }\n      }\n    },\n    use12Hour: {\n      type: Boolean,\n      default: false\n    },\n    hourStep: {\n      type: Number,\n      default: 1\n    },\n    minuteStep: {\n      type: Number,\n      default: 1\n    },\n    minDatetime: {\n      type: String,\n      default: null\n    },\n    maxDatetime: {\n      type: String,\n      default: null\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    },\n    weekStart: {\n      type: Number,\n      default: function default$2 () {\n        return weekStart()\n      }\n    },\n    flow: {\n      type: Array\n    },\n    title: {\n      type: String\n    },\n    hideBackdrop: {\n      type: Boolean,\n      default: false\n    },\n    backdropClick: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data: function data () {\n    return {\n      isOpen: false,\n      datetime: datetimeFromISO(this.value)\n    }\n  },\n\n  watch: {\n    value: function value (newValue) {\n      this.datetime = datetimeFromISO(newValue);\n    }\n  },\n\n  created: function created () {\n    this.emitInput();\n  },\n\n  computed: {\n    inputValue: function inputValue () {\n      var format = this.format;\n\n      if (!format) {\n        switch (this.type) {\n          case 'date':\n            format = luxon.DateTime.DATE_MED;\n            break\n          case 'time':\n            format = luxon.DateTime.TIME_24_SIMPLE;\n            break\n          case 'datetime':\n          case 'default':\n            format = luxon.DateTime.DATETIME_MED;\n            break\n        }\n      }\n\n      if (typeof format === 'string') {\n        return this.datetime ? luxon.DateTime.fromISO(this.datetime).setZone(this.zone).toFormat(format) : ''\n      } else {\n        return this.datetime ? this.datetime.setZone(this.zone).toLocaleString(format) : ''\n      }\n    },\n    popupDate: function popupDate () {\n      return this.datetime ? this.datetime.setZone(this.zone) : this.newPopupDatetime()\n    },\n    popupMinDatetime: function popupMinDatetime () {\n      return this.minDatetime ? luxon.DateTime.fromISO(this.minDatetime).setZone(this.zone) : null\n    },\n    popupMaxDatetime: function popupMaxDatetime () {\n      return this.maxDatetime ? luxon.DateTime.fromISO(this.maxDatetime).setZone(this.zone) : null\n    }\n  },\n\n  methods: {\n    emitInput: function emitInput () {\n      var datetime = this.datetime ? this.datetime.setZone(this.valueZone) : null;\n\n      if (datetime && this.type === 'date') {\n        datetime = startOfDay(datetime);\n      }\n\n      this.$emit('input', datetime ? datetime.toISO() : '');\n    },\n    open: function open (event) {\n      event.target.blur();\n\n      this.isOpen = true;\n    },\n    close: function close () {\n      this.isOpen = false;\n      this.$emit('close');\n    },\n    confirm: function confirm (datetime) {\n      this.datetime = datetime.toUTC();\n      this.emitInput();\n      this.close();\n    },\n    cancel: function cancel () {\n      this.close();\n    },\n    clickOutside: function clickOutside () {\n      if (this.backdropClick === true) { this.cancel(); }\n    },\n    newPopupDatetime: function newPopupDatetime () {\n      var datetime = luxon.DateTime.utc().setZone(this.zone).set({ seconds: 0, milliseconds: 0 });\n\n      if (this.popupMinDatetime && datetime < this.popupMinDatetime) {\n        datetime = this.popupMinDatetime.set({ seconds: 0, milliseconds: 0 });\n      }\n\n      if (this.popupMaxDatetime && datetime > this.popupMaxDatetime) {\n        datetime = this.popupMaxDatetime.set({ seconds: 0, milliseconds: 0 });\n      }\n\n      if (this.minuteStep === 1) {\n        return datetime\n      }\n\n      var roundedMinute = Math.round(datetime.minute / this.minuteStep) * this.minuteStep;\n\n      if (roundedMinute === 60) {\n        return datetime.plus({ hours: 1 }).set({ minute: 0 })\n      }\n\n      return datetime.set({ minute: roundedMinute })\n    },\n    setValue: function setValue (event) {\n      this.datetime = datetimeFromISO(event.target.value);\n      this.emitInput();\n    }\n  }\n};\n\nfunction plugin (Vue) {\n  Vue.component('datetime', Datetime);\n  Vue.component('datetime-popup', DatetimePopup);\n}\n\n// Install by default if using the script tag\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(plugin);\n}\n\nvar version = '1.0.0-beta.14';\n\nexports['default'] = plugin;\nexports.Datetime = Datetime;\nexports.DatetimePopup = DatetimePopup;\nexports.version = version;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWRhdGV0aW1lL2Rpc3QvdnVlLWRhdGV0aW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZS1kYXRldGltZS9kaXN0L3Z1ZS1kYXRldGltZS5qcz84NTliIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogdnVlLWRhdGV0aW1lIHYxLjAuMC1iZXRhLjE0XG4gKiAoYykgMjAyMCBNYXJpbyBKdcOhcmV6XG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCdsdXhvbicpKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAnbHV4b24nXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLlZ1ZURhdGV0aW1lID0gZ2xvYmFsLlZ1ZURhdGV0aW1lIHx8IHt9KSxnbG9iYWwubHV4b24pKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLGx1eG9uKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIEZsb3dNYW5hZ2VyID0gZnVuY3Rpb24gRmxvd01hbmFnZXIgKGZsb3csIGVuZFN0YXR1cykge1xuICBpZiAoIGZsb3cgPT09IHZvaWQgMCApIGZsb3cgPSBbXTtcbiAgaWYgKCBlbmRTdGF0dXMgPT09IHZvaWQgMCApIGVuZFN0YXR1cyA9IG51bGw7XG5cbiAgdGhpcy5mbG93ID0gZmxvdztcbiAgdGhpcy5lbmRTdGF0dXMgPSBlbmRTdGF0dXM7XG4gIHRoaXMuZGl2ZXJzaW9uTmV4dCA9IG51bGw7XG59O1xuXG5GbG93TWFuYWdlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uIHN0ZXAgKGluZGV4KSB7XG4gIHJldHVybiB0aGlzLmZsb3cubGVuZ3RoID4gaW5kZXggPyB0aGlzLmZsb3dbaW5kZXhdIDogdGhpcy5lbmRTdGF0dXNcbn07XG5cbkZsb3dNYW5hZ2VyLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIGZpcnN0ICgpIHtcbiAgcmV0dXJuIHRoaXMuc3RlcCgwKVxufTtcblxuRmxvd01hbmFnZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiBuZXh0IChjdXJyZW50KSB7XG4gIGlmICh0aGlzLmRpdmVyc2lvbk5leHQpIHtcbiAgICB2YXIgbmV4dCA9IHRoaXMuZGl2ZXJzaW9uTmV4dDtcbiAgICB0aGlzLmRpdmVyc2lvbk5leHQgPSBudWxsO1xuXG4gICAgcmV0dXJuIG5leHRcbiAgfVxuXG4gIHJldHVybiB0aGlzLnN0ZXAodGhpcy5mbG93LmluZGV4T2YoY3VycmVudCkgKyAxKVxufTtcblxuRmxvd01hbmFnZXIucHJvdG90eXBlLmRpdmVyc2lvbiA9IGZ1bmN0aW9uIGRpdmVyc2lvbiAobmV4dCkge1xuICB0aGlzLmRpdmVyc2lvbk5leHQgPSBuZXh0O1xufTtcblxuZnVuY3Rpb24gY2FwaXRhbGl6ZSAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSlcbn1cblxuZnVuY3Rpb24gZGF0ZXRpbWVGcm9tSVNPIChzdHJpbmcpIHtcbiAgdmFyIGRhdGV0aW1lID0gbHV4b24uRGF0ZVRpbWUuZnJvbUlTTyhzdHJpbmcpLnRvVVRDKCk7XG5cbiAgcmV0dXJuIGRhdGV0aW1lLmlzVmFsaWQgPyBkYXRldGltZSA6IG51bGxcbn1cblxuZnVuY3Rpb24gbW9udGhEYXlzICh5ZWFyLCBtb250aCwgd2Vla1N0YXJ0KSB7XG4gIHZhciBtb250aERhdGUgPSBsdXhvbi5EYXRlVGltZS5sb2NhbCh5ZWFyLCBtb250aCwgMSk7XG4gIHZhciBmaXJzdERheSA9IG1vbnRoRGF0ZS53ZWVrZGF5IC0gd2Vla1N0YXJ0O1xuXG4gIGlmIChmaXJzdERheSA8IDApIHtcbiAgICBmaXJzdERheSArPSA3O1xuICB9XG4gIHZhciBsYXN0RGF5ID0gKHdlZWtTdGFydCAtIG1vbnRoRGF0ZS53ZWVrZGF5IC0gbW9udGhEYXRlLmRheXNJbk1vbnRoKSAlIDc7XG4gIGlmIChsYXN0RGF5IDwgMCkge1xuICAgIGxhc3REYXkgKz0gNztcbiAgfVxuXG4gIHJldHVybiBBcnJheS5hcHBseShudWxsLCBBcnJheShtb250aERhdGUuZGF5c0luTW9udGggKyBmaXJzdERheSArIGxhc3REYXkpKVxuICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgeyByZXR1cm4gKGluZGV4ICsgMSA8PSBmaXJzdERheSB8fCBpbmRleCA+PSBmaXJzdERheSArIG1vbnRoRGF0ZS5kYXlzSW5Nb250aCkgPyBudWxsIDogKGluZGV4ICsgMSAtIGZpcnN0RGF5KTsgfVxuICAgIClcbn1cblxuZnVuY3Rpb24gbW9udGhEYXlJc0Rpc2FibGVkIChtaW5EYXRlLCBtYXhEYXRlLCB5ZWFyLCBtb250aCwgZGF5KSB7XG4gIHZhciBkYXRlID0gbHV4b24uRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXI6IHllYXIsIG1vbnRoOiBtb250aCwgZGF5OiBkYXksIHpvbmU6ICdVVEMnIH0pO1xuXG4gIG1pbkRhdGUgPSBtaW5EYXRlID8gc3RhcnRPZkRheShtaW5EYXRlLnNldFpvbmUoJ1VUQycsIHsga2VlcExvY2FsVGltZTogdHJ1ZSB9KSkgOiBudWxsO1xuICBtYXhEYXRlID0gbWF4RGF0ZSA/IHN0YXJ0T2ZEYXkobWF4RGF0ZS5zZXRab25lKCdVVEMnLCB7IGtlZXBMb2NhbFRpbWU6IHRydWUgfSkpIDogbnVsbDtcblxuICByZXR1cm4gKG1pbkRhdGUgJiYgZGF0ZSA8IG1pbkRhdGUpIHx8XG4gICAgICAgICAobWF4RGF0ZSAmJiBkYXRlID4gbWF4RGF0ZSlcbn1cblxuZnVuY3Rpb24gbW9udGhJc0Rpc2FibGVkIChtaW5EYXRlLCBtYXhEYXRlLCB5ZWFyLCBtb250aCkge1xuICByZXR1cm4gKG1pbkRhdGUgJiYgbWluRGF0ZSA+IGx1eG9uLkRhdGVUaW1lLnV0Yyh5ZWFyLCBtb250aCwgbHV4b24uRGF0ZVRpbWUudXRjKHllYXIsIG1vbnRoKS5kYXlzSW5Nb250aCkpIHx8XG4gICAgICAgICAobWF4RGF0ZSAmJiBtYXhEYXRlIDwgbHV4b24uRGF0ZVRpbWUudXRjKHllYXIsIG1vbnRoLCAxKSlcbn1cblxuZnVuY3Rpb24geWVhcklzRGlzYWJsZWQgKG1pbkRhdGUsIG1heERhdGUsIHllYXIpIHtcbiAgdmFyIG1pblllYXIgPSBtaW5EYXRlID8gbWluRGF0ZS55ZWFyIDogbnVsbDtcbiAgdmFyIG1heFllYXIgPSBtYXhEYXRlID8gbWF4RGF0ZS55ZWFyIDogbnVsbDtcblxuICByZXR1cm4gKG1pblllYXIgJiYgeWVhciA8IG1pblllYXIpIHx8XG4gICAgICAgICAobWF4WWVhciAmJiB5ZWFyID4gbWF4WWVhcilcbn1cblxuZnVuY3Rpb24gdGltZUNvbXBvbmVudElzRGlzYWJsZWQgKG1pbiwgbWF4LCBjb21wb25lbnQpIHtcbiAgcmV0dXJuIChtaW4gIT09IG51bGwgJiYgY29tcG9uZW50IDwgbWluKSB8fFxuICAgICAgICAgKG1heCAhPT0gbnVsbCAmJiBjb21wb25lbnQgPiBtYXgpXG59XG5cbmZ1bmN0aW9uIHdlZWtkYXlzICh3ZWVrU3RhcnQpIHtcbiAgaWYgKC0td2Vla1N0YXJ0IDwgMCkge1xuICAgIHdlZWtTdGFydCA9IDY7XG4gIH1cblxuICB2YXIgd2Vla0RheXMgPSBsdXhvbi5JbmZvLndlZWtkYXlzKCdzaG9ydCcpLm1hcChmdW5jdGlvbiAod2Vla2RheSkgeyByZXR1cm4gY2FwaXRhbGl6ZSh3ZWVrZGF5KTsgfSk7XG5cbiAgd2Vla0RheXMgPSB3ZWVrRGF5cy5jb25jYXQod2Vla0RheXMuc3BsaWNlKDAsIHdlZWtTdGFydCkpO1xuXG4gIHJldHVybiB3ZWVrRGF5c1xufVxuXG5mdW5jdGlvbiBtb250aHMgKCkge1xuICByZXR1cm4gbHV4b24uSW5mby5tb250aHMoKS5tYXAoZnVuY3Rpb24gKG1vbnRoKSB7IHJldHVybiBjYXBpdGFsaXplKG1vbnRoKTsgfSlcbn1cblxuZnVuY3Rpb24gaG91cnMgKHN0ZXApIHtcbiAgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIEFycmF5KE1hdGguY2VpbCgyNCAvIHN0ZXApKSkubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgeyByZXR1cm4gaW5kZXggKiBzdGVwOyB9KVxufVxuXG5mdW5jdGlvbiBtaW51dGVzIChzdGVwKSB7XG4gIHJldHVybiBBcnJheS5hcHBseShudWxsLCBBcnJheShNYXRoLmNlaWwoNjAgLyBzdGVwKSkpLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsgcmV0dXJuIGluZGV4ICogc3RlcDsgfSlcbn1cblxuZnVuY3Rpb24geWVhcnMgKGN1cnJlbnQpIHtcbiAgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIEFycmF5KDIwMSkpLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsgcmV0dXJuIGN1cnJlbnQgLSAxMDAgKyBpbmRleDsgfSlcbn1cblxuZnVuY3Rpb24gcGFkIChudW1iZXIpIHtcbiAgcmV0dXJuIG51bWJlciA8IDEwID8gJzAnICsgbnVtYmVyIDogbnVtYmVyXG59XG5cbmZ1bmN0aW9uIHN0YXJ0T2ZEYXkgKGRhdGV0aW1lKSB7XG4gIHJldHVybiBkYXRldGltZS5zdGFydE9mKCdkYXknKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG93TWFuYWdlciAoZmxvdykge1xuICByZXR1cm4gbmV3IEZsb3dNYW5hZ2VyKGZsb3csICdlbmQnKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG93TWFuYWdlckZyb21UeXBlICh0eXBlKSB7XG4gIHZhciBmbG93ID0gW107XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnZGF0ZXRpbWUnOlxuICAgICAgZmxvdyA9IFsnZGF0ZScsICd0aW1lJ107XG4gICAgICBicmVha1xuICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgZmxvdyA9IFsndGltZSddO1xuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgZmxvdyA9IFsnZGF0ZSddO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBGbG93TWFuYWdlcihmbG93LCAnZW5kJylcbn1cblxuZnVuY3Rpb24gd2Vla1N0YXJ0ICgpIHtcbiAgdmFyIHdlZWtzdGFydDtcblxuICB0cnkge1xuICAgIHdlZWtzdGFydCA9IHJlcXVpcmUoJ3dlZWtzdGFydC9wYWNrYWdlLmpzb24nKS52ZXJzaW9uID8gcmVxdWlyZSgnd2Vla3N0YXJ0JykgOiBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgd2Vla3N0YXJ0ID0gd2luZG93LndlZWtzdGFydDtcbiAgfVxuXG4gIHZhciBmaXJzdERheSA9IHdlZWtzdGFydCA/IHdlZWtzdGFydC5nZXRXZWVrU3RhcnRCeUxvY2FsZShsdXhvbi5TZXR0aW5ncy5kZWZhdWx0TG9jYWxlKSA6IDE7XG5cbiAgcmV0dXJuIGZpcnN0RGF5ID09PSAwID8gNyA6IGZpcnN0RGF5XG59XG5cbnZhciBEYXRldGltZUNhbGVuZGFyID0ge3JlbmRlcjogZnVuY3Rpb24oKXt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidmRhdGV0aW1lLWNhbGVuZGFyXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtY2FsZW5kYXJfX25hdmlnYXRpb25cIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcInZkYXRldGltZS1jYWxlbmRhcl9fbmF2aWdhdGlvbi0tcHJldmlvdXNcIixvbjp7XCJjbGlja1wiOl92bS5wcmV2aW91c01vbnRofX0sW19jKCdzdmcnLHthdHRyczp7XCJ4bWxuc1wiOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInZpZXdCb3hcIjpcIjAgMCA2MS4zIDEwMi44XCJ9fSxbX2MoJ3BhdGgnLHthdHRyczp7XCJmaWxsXCI6XCJub25lXCIsXCJzdHJva2VcIjpcIiM0NDRcIixcInN0cm9rZS13aWR0aFwiOlwiMTRcIixcInN0cm9rZS1taXRlcmxpbWl0XCI6XCIxMFwiLFwiZFwiOlwiTTU2LjMgOTcuOEw5LjkgNTEuNCA1Ni4zIDVcIn19KV0pXSksX3ZtLl92KFwiIFwiKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtY2FsZW5kYXJfX2N1cnJlbnQtLW1vbnRoXCJ9LFtfdm0uX3YoX3ZtLl9zKF92bS5tb250aE5hbWUpK1wiIFwiK192bS5fcyhfdm0ubmV3WWVhcikpXSksX3ZtLl92KFwiIFwiKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtY2FsZW5kYXJfX25hdmlnYXRpb24tLW5leHRcIixvbjp7XCJjbGlja1wiOl92bS5uZXh0TW9udGh9fSxbX2MoJ3N2Zycse2F0dHJzOntcInhtbG5zXCI6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwidmlld0JveFwiOlwiMCAwIDYxLjMgMTAyLjhcIn19LFtfYygncGF0aCcse2F0dHJzOntcImZpbGxcIjpcIm5vbmVcIixcInN0cm9rZVwiOlwiIzQ0NFwiLFwic3Ryb2tlLXdpZHRoXCI6XCIxNFwiLFwic3Ryb2tlLW1pdGVybGltaXRcIjpcIjEwXCIsXCJkXCI6XCJNNTYuMyA5Ny44TDkuOSA1MS40IDU2LjMgNVwifX0pXSldKV0pLF92bS5fdihcIiBcIiksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidmRhdGV0aW1lLWNhbGVuZGFyX19tb250aFwifSxbX3ZtLl9sKChfdm0ud2Vla2RheXMpLGZ1bmN0aW9uKHdlZWtkYXkpe3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtY2FsZW5kYXJfX21vbnRoX193ZWVrZGF5XCJ9LFtfdm0uX3YoX3ZtLl9zKHdlZWtkYXkpKV0pfSksX3ZtLl92KFwiIFwiKSxfdm0uX2woKF92bS5kYXlzKSxmdW5jdGlvbihkYXkpe3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtY2FsZW5kYXJfX21vbnRoX19kYXlcIixjbGFzczp7J3ZkYXRldGltZS1jYWxlbmRhcl9fbW9udGhfX2RheS0tc2VsZWN0ZWQnOiBkYXkuc2VsZWN0ZWQsICd2ZGF0ZXRpbWUtY2FsZW5kYXJfX21vbnRoX19kYXktLWRpc2FibGVkJzogZGF5LmRpc2FibGVkfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnNlbGVjdERheShkYXkpO319fSxbX2MoJ3NwYW4nLFtfYygnc3BhbicsW192bS5fdihfdm0uX3MoZGF5Lm51bWJlcikpXSldKV0pfSldLDIpXSl9LHN0YXRpY1JlbmRlckZuczogW10sXG4gIHByb3BzOiB7XG4gICAgeWVhcjoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIG1vbnRoOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgZGF5OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgdHlwZTogQXJyYXlcbiAgICB9LFxuICAgIG1pbkRhdGU6IHtcbiAgICAgIHR5cGU6IGx1eG9uLkRhdGVUaW1lLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgbWF4RGF0ZToge1xuICAgICAgdHlwZTogbHV4b24uRGF0ZVRpbWUsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICB3ZWVrU3RhcnQ6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDFcbiAgICB9XG4gIH0sXG5cbiAgZGF0YTogZnVuY3Rpb24gZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5ld0RhdGU6IGx1eG9uLkRhdGVUaW1lLmZyb21PYmplY3QoeyB5ZWFyOiB0aGlzLnllYXIsIG1vbnRoOiB0aGlzLm1vbnRoLCB6b25lOiAnVVRDJyB9KSxcbiAgICAgIHdlZWtkYXlzOiB3ZWVrZGF5cyh0aGlzLndlZWtTdGFydCksXG4gICAgICBtb250aHM6IG1vbnRocygpXG4gICAgfVxuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgbmV3WWVhcjogZnVuY3Rpb24gbmV3WWVhciAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXdEYXRlLnllYXJcbiAgICB9LFxuICAgIG5ld01vbnRoOiBmdW5jdGlvbiBuZXdNb250aCAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXdEYXRlLm1vbnRoXG4gICAgfSxcbiAgICBtb250aE5hbWU6IGZ1bmN0aW9uIG1vbnRoTmFtZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb250aHNbdGhpcy5uZXdNb250aCAtIDFdXG4gICAgfSxcbiAgICBkYXlzOiBmdW5jdGlvbiBkYXlzICgpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbW9udGhEYXlzKHRoaXMubmV3WWVhciwgdGhpcy5uZXdNb250aCwgdGhpcy53ZWVrU3RhcnQpLm1hcChmdW5jdGlvbiAoZGF5KSB7IHJldHVybiAoe1xuICAgICAgICBudW1iZXI6IGRheSxcbiAgICAgICAgc2VsZWN0ZWQ6IGRheSAmJiB0aGlzJDEueWVhciA9PT0gdGhpcyQxLm5ld1llYXIgJiYgdGhpcyQxLm1vbnRoID09PSB0aGlzJDEubmV3TW9udGggJiYgdGhpcyQxLmRheSA9PT0gZGF5LFxuICAgICAgICBkaXNhYmxlZDogIWRheSB8fCBtb250aERheUlzRGlzYWJsZWQodGhpcyQxLm1pbkRhdGUsIHRoaXMkMS5tYXhEYXRlLCB0aGlzJDEubmV3WWVhciwgdGhpcyQxLm5ld01vbnRoLCBkYXkpXG4gICAgICB9KTsgfSlcbiAgICB9XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIHNlbGVjdERheTogZnVuY3Rpb24gc2VsZWN0RGF5IChkYXkpIHtcbiAgICAgIGlmIChkYXkuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMubmV3WWVhciwgdGhpcy5uZXdNb250aCwgZGF5Lm51bWJlcik7XG4gICAgfSxcbiAgICBwcmV2aW91c01vbnRoOiBmdW5jdGlvbiBwcmV2aW91c01vbnRoICgpIHtcbiAgICAgIHRoaXMubmV3RGF0ZSA9IHRoaXMubmV3RGF0ZS5taW51cyh7IG1vbnRoczogMSB9KTtcbiAgICB9LFxuICAgIG5leHRNb250aDogZnVuY3Rpb24gbmV4dE1vbnRoICgpIHtcbiAgICAgIHRoaXMubmV3RGF0ZSA9IHRoaXMubmV3RGF0ZS5wbHVzKHsgbW9udGhzOiAxIH0pO1xuICAgIH1cbiAgfVxufTtcblxudmFyIERhdGV0aW1lVGltZVBpY2tlciA9IHtyZW5kZXI6IGZ1bmN0aW9uKCl7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdkaXYnLHtjbGFzczp7J3ZkYXRldGltZS10aW1lLXBpY2tlcic6IHRydWUsICd2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX3dpdGgtc3VmZml4JzogX3ZtLnVzZTEySG91cn19LFtfYygnZGl2Jyx7cmVmOlwiaG91ckxpc3RcIixzdGF0aWNDbGFzczpcInZkYXRldGltZS10aW1lLXBpY2tlcl9fbGlzdCB2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX2xpc3QtLWhvdXJzXCJ9LF92bS5fbCgoX3ZtLmhvdXJzKSxmdW5jdGlvbihob3VyKXtyZXR1cm4gX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXRpbWUtcGlja2VyX19pdGVtXCIsY2xhc3M6eyd2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX2l0ZW0tLXNlbGVjdGVkJzogaG91ci5zZWxlY3RlZCwgJ3ZkYXRldGltZS10aW1lLXBpY2tlcl9faXRlbS0tZGlzYWJsZWQnOiBob3VyLmRpc2FibGVkfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnNlbGVjdEhvdXIoaG91cik7fX19LFtfdm0uX3YoX3ZtLl9zKF92bS5mb3JtYXRIb3VyKGhvdXIubnVtYmVyKSkpXSl9KSksX3ZtLl92KFwiIFwiKSxfYygnZGl2Jyx7cmVmOlwibWludXRlTGlzdFwiLHN0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXRpbWUtcGlja2VyX19saXN0IHZkYXRldGltZS10aW1lLXBpY2tlcl9fbGlzdC0tbWludXRlc1wifSxfdm0uX2woKF92bS5taW51dGVzKSxmdW5jdGlvbihtaW51dGUpe3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX2l0ZW1cIixjbGFzczp7J3ZkYXRldGltZS10aW1lLXBpY2tlcl9faXRlbS0tc2VsZWN0ZWQnOiBtaW51dGUuc2VsZWN0ZWQsICd2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX2l0ZW0tLWRpc2FibGVkJzogbWludXRlLmRpc2FibGVkfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnNlbGVjdE1pbnV0ZShtaW51dGUpO319fSxbX3ZtLl92KF92bS5fcyhtaW51dGUubnVtYmVyKSldKX0pKSxfdm0uX3YoXCIgXCIpLChfdm0udXNlMTJIb3VyKT9fYygnZGl2Jyx7cmVmOlwic3VmZml4TGlzdFwiLHN0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXRpbWUtcGlja2VyX19saXN0IHZkYXRldGltZS10aW1lLXBpY2tlcl9fbGlzdC0tc3VmZml4XCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX2l0ZW1cIixjbGFzczp7J3ZkYXRldGltZS10aW1lLXBpY2tlcl9faXRlbS0tc2VsZWN0ZWQnOiBfdm0uaG91ciA8IDEyfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnNlbGVjdFN1ZmZpeCgnYW0nKTt9fX0sW192bS5fdihcImFtXCIpXSksX3ZtLl92KFwiIFwiKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtdGltZS1waWNrZXJfX2l0ZW1cIixjbGFzczp7J3ZkYXRldGltZS10aW1lLXBpY2tlcl9faXRlbS0tc2VsZWN0ZWQnOiBfdm0uaG91ciA+PSAxMn0sb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe192bS5zZWxlY3RTdWZmaXgoJ3BtJyk7fX19LFtfdm0uX3YoXCJwbVwiKV0pXSk6X3ZtLl9lKCldKX0sc3RhdGljUmVuZGVyRm5zOiBbXSxcbiAgcHJvcHM6IHtcbiAgICBob3VyOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgbWludXRlOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgdXNlMTJIb3VyOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGhvdXJTdGVwOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICBtaW51dGVTdGVwOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICBtaW5UaW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBtYXhUaW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgaG91cnM6IGZ1bmN0aW9uIGhvdXJzJDEgKCkge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBob3Vycyh0aGlzLmhvdXJTdGVwKS5maWx0ZXIoZnVuY3Rpb24gKGhvdXIpIHtcbiAgICAgICAgaWYgKCF0aGlzJDEudXNlMTJIb3VyKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcyQxLmhvdXIgPCAxMikge1xuICAgICAgICAgICAgcmV0dXJuIGhvdXIgPCAxMlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaG91ciA+PSAxMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkubWFwKGZ1bmN0aW9uIChob3VyKSB7IHJldHVybiAoe1xuICAgICAgICBudW1iZXI6IHBhZChob3VyKSxcbiAgICAgICAgc2VsZWN0ZWQ6IGhvdXIgPT09IHRoaXMkMS5ob3VyLFxuICAgICAgICBkaXNhYmxlZDogdGltZUNvbXBvbmVudElzRGlzYWJsZWQodGhpcyQxLm1pbkhvdXIsIHRoaXMkMS5tYXhIb3VyLCBob3VyKVxuICAgICAgfSk7IH0pXG4gICAgfSxcbiAgICBtaW51dGVzOiBmdW5jdGlvbiBtaW51dGVzJDEgKCkge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBtaW51dGVzKHRoaXMubWludXRlU3RlcCkubWFwKGZ1bmN0aW9uIChtaW51dGUpIHsgcmV0dXJuICh7XG4gICAgICAgIG51bWJlcjogcGFkKG1pbnV0ZSksXG4gICAgICAgIHNlbGVjdGVkOiBtaW51dGUgPT09IHRoaXMkMS5taW51dGUsXG4gICAgICAgIGRpc2FibGVkOiB0aW1lQ29tcG9uZW50SXNEaXNhYmxlZCh0aGlzJDEubWluTWludXRlLCB0aGlzJDEubWF4TWludXRlLCBtaW51dGUpXG4gICAgICB9KTsgfSlcbiAgICB9LFxuICAgIG1pbkhvdXI6IGZ1bmN0aW9uIG1pbkhvdXIgKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWluVGltZSA/IHBhcnNlSW50KHRoaXMubWluVGltZS5zcGxpdCgnOicpWzBdKSA6IG51bGxcbiAgICB9LFxuICAgIG1pbk1pbnV0ZTogZnVuY3Rpb24gbWluTWludXRlICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1pblRpbWUgJiYgdGhpcy5taW5Ib3VyID09PSB0aGlzLmhvdXIgPyBwYXJzZUludCh0aGlzLm1pblRpbWUuc3BsaXQoJzonKVsxXSkgOiBudWxsXG4gICAgfSxcbiAgICBtYXhIb3VyOiBmdW5jdGlvbiBtYXhIb3VyICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1heFRpbWUgPyBwYXJzZUludCh0aGlzLm1heFRpbWUuc3BsaXQoJzonKVswXSkgOiBudWxsXG4gICAgfSxcbiAgICBtYXhNaW51dGU6IGZ1bmN0aW9uIG1heE1pbnV0ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXhUaW1lICYmIHRoaXMubWF4SG91ciA9PT0gdGhpcy5ob3VyID8gcGFyc2VJbnQodGhpcy5tYXhUaW1lLnNwbGl0KCc6JylbMV0pIDogbnVsbFxuICAgIH1cbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgc2VsZWN0SG91cjogZnVuY3Rpb24gc2VsZWN0SG91ciAoaG91cikge1xuICAgICAgaWYgKGhvdXIuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHsgaG91cjogcGFyc2VJbnQoaG91ci5udW1iZXIpIH0pO1xuICAgIH0sXG4gICAgc2VsZWN0TWludXRlOiBmdW5jdGlvbiBzZWxlY3RNaW51dGUgKG1pbnV0ZSkge1xuICAgICAgaWYgKG1pbnV0ZS5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgeyBtaW51dGU6IHBhcnNlSW50KG1pbnV0ZS5udW1iZXIpIH0pO1xuICAgIH0sXG4gICAgc2VsZWN0U3VmZml4OiBmdW5jdGlvbiBzZWxlY3RTdWZmaXggKHN1ZmZpeCkge1xuICAgICAgaWYgKHN1ZmZpeCA9PT0gJ2FtJykge1xuICAgICAgICBpZiAodGhpcy5ob3VyID49IDEyKSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgeyBob3VyOiBwYXJzZUludCh0aGlzLmhvdXIgLSAxMiksIHN1ZmZpeFRvdWNoZWQ6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdWZmaXggPT09ICdwbScpIHtcbiAgICAgICAgaWYgKHRoaXMuaG91ciA8IDEyKSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgeyBob3VyOiBwYXJzZUludCh0aGlzLmhvdXIgKyAxMiksIHN1ZmZpeFRvdWNoZWQ6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZvcm1hdEhvdXI6IGZ1bmN0aW9uIGZvcm1hdEhvdXIgKGhvdXIpIHtcbiAgICAgIHZhciBudW1Ib3VyID0gTnVtYmVyKGhvdXIpO1xuICAgICAgaWYgKHRoaXMudXNlMTJIb3VyKSB7XG4gICAgICAgIGlmIChudW1Ib3VyID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIDEyXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bUhvdXIgPiAxMikge1xuICAgICAgICAgIHJldHVybiBudW1Ib3VyIC0gMTJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtSG91clxuICAgICAgfVxuICAgICAgcmV0dXJuIGhvdXJcbiAgICB9XG4gIH0sXG5cbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCAoKSB7XG4gICAgdmFyIHNlbGVjdGVkSG91ciA9IHRoaXMuJHJlZnMuaG91ckxpc3QucXVlcnlTZWxlY3RvcignLnZkYXRldGltZS10aW1lLXBpY2tlcl9faXRlbS0tc2VsZWN0ZWQnKTtcbiAgICB2YXIgc2VsZWN0ZWRNaW51dGUgPSB0aGlzLiRyZWZzLm1pbnV0ZUxpc3QucXVlcnlTZWxlY3RvcignLnZkYXRldGltZS10aW1lLXBpY2tlcl9faXRlbS0tc2VsZWN0ZWQnKTtcbiAgICB0aGlzLiRyZWZzLmhvdXJMaXN0LnNjcm9sbFRvcCA9IHNlbGVjdGVkSG91ciA/IHNlbGVjdGVkSG91ci5vZmZzZXRUb3AgLSAyNTAgOiAwO1xuICAgIHRoaXMuJHJlZnMubWludXRlTGlzdC5zY3JvbGxUb3AgPSBzZWxlY3RlZE1pbnV0ZSA/IHNlbGVjdGVkTWludXRlLm9mZnNldFRvcCAtIDI1MCA6IDA7XG4gIH1cbn07XG5cbnZhciBEYXRldGltZVllYXJQaWNrZXIgPSB7cmVuZGVyOiBmdW5jdGlvbigpe3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUteWVhci1waWNrZXJcIn0sW19jKCdkaXYnLHtyZWY6XCJ5ZWFyTGlzdFwiLHN0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXllYXItcGlja2VyX19saXN0IHZkYXRldGltZS15ZWFyLXBpY2tlcl9fbGlzdFwifSxfdm0uX2woKF92bS55ZWFycyksZnVuY3Rpb24oeWVhcil7cmV0dXJuIF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInZkYXRldGltZS15ZWFyLXBpY2tlcl9faXRlbVwiLGNsYXNzOnsndmRhdGV0aW1lLXllYXItcGlja2VyX19pdGVtLS1zZWxlY3RlZCc6IHllYXIuc2VsZWN0ZWQsICd2ZGF0ZXRpbWUteWVhci1waWNrZXJfX2l0ZW0tLWRpc2FibGVkJzogeWVhci5kaXNhYmxlZH0sb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe192bS5zZWxlY3QoeWVhcik7fX19LFtfdm0uX3YoX3ZtLl9zKHllYXIubnVtYmVyKStcIiBcIildKX0pKV0pfSxzdGF0aWNSZW5kZXJGbnM6IFtdLFxuICBwcm9wczoge1xuICAgIHllYXI6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBtaW5EYXRlOiB7XG4gICAgICB0eXBlOiBsdXhvbi5EYXRlVGltZSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIG1heERhdGU6IHtcbiAgICAgIHR5cGU6IGx1eG9uLkRhdGVUaW1lLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH1cbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIHllYXJzOiBmdW5jdGlvbiB5ZWFycyQxICgpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICByZXR1cm4geWVhcnModGhpcy55ZWFyKS5tYXAoZnVuY3Rpb24gKHllYXIpIHsgcmV0dXJuICh7XG4gICAgICAgIG51bWJlcjogeWVhcixcbiAgICAgICAgc2VsZWN0ZWQ6IHllYXIgPT09IHRoaXMkMS55ZWFyLFxuICAgICAgICBkaXNhYmxlZDogIXllYXIgfHwgeWVhcklzRGlzYWJsZWQodGhpcyQxLm1pbkRhdGUsIHRoaXMkMS5tYXhEYXRlLCB5ZWFyKVxuICAgICAgfSk7IH0pXG4gICAgfVxuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdCAoeWVhcikge1xuICAgICAgaWYgKHllYXIuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHBhcnNlSW50KHllYXIubnVtYmVyKSk7XG4gICAgfSxcblxuICAgIHNjcm9sbFRvQ3VycmVudDogZnVuY3Rpb24gc2Nyb2xsVG9DdXJyZW50ICgpIHtcbiAgICAgIGlmICh0aGlzLiRyZWZzLnllYXJMaXN0KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZFllYXIgPSB0aGlzLiRyZWZzLnllYXJMaXN0LnF1ZXJ5U2VsZWN0b3IoJy52ZGF0ZXRpbWUteWVhci1waWNrZXJfX2l0ZW0tLXNlbGVjdGVkJyk7XG4gICAgICAgIHRoaXMuJHJlZnMueWVhckxpc3Quc2Nyb2xsVG9wID0gc2VsZWN0ZWRZZWFyID8gc2VsZWN0ZWRZZWFyLm9mZnNldFRvcCAtIDI1MCA6IDA7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQgKCkge1xuICAgIHRoaXMuc2Nyb2xsVG9DdXJyZW50KCk7XG4gIH0sXG5cbiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCAoKSB7XG4gICAgdGhpcy5zY3JvbGxUb0N1cnJlbnQoKTtcbiAgfVxufTtcblxudmFyIERhdGV0aW1lTW9udGhQaWNrZXIgPSB7cmVuZGVyOiBmdW5jdGlvbigpe3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtbW9udGgtcGlja2VyXCJ9LFtfYygnZGl2Jyx7cmVmOlwibW9udGhMaXN0XCIsc3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtbW9udGgtcGlja2VyX19saXN0IHZkYXRldGltZS1tb250aC1waWNrZXJfX2xpc3RcIn0sX3ZtLl9sKChfdm0ubW9udGhzKSxmdW5jdGlvbihtb250aCl7cmV0dXJuIF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInZkYXRldGltZS1tb250aC1waWNrZXJfX2l0ZW1cIixjbGFzczp7J3ZkYXRldGltZS1tb250aC1waWNrZXJfX2l0ZW0tLXNlbGVjdGVkJzogbW9udGguc2VsZWN0ZWQsICd2ZGF0ZXRpbWUtbW9udGgtcGlja2VyX19pdGVtLS1kaXNhYmxlZCc6IG1vbnRoLmRpc2FibGVkfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnNlbGVjdChtb250aCk7fX19LFtfdm0uX3YoX3ZtLl9zKG1vbnRoLmxhYmVsKStcIiBcIildKX0pKV0pfSxzdGF0aWNSZW5kZXJGbnM6IFtdLFxuICBwcm9wczoge1xuICAgIHllYXI6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBtb250aDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIG1pbkRhdGU6IHtcbiAgICAgIHR5cGU6IGx1eG9uLkRhdGVUaW1lLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgbWF4RGF0ZToge1xuICAgICAgdHlwZTogbHV4b24uRGF0ZVRpbWUsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgbW9udGhzOiBmdW5jdGlvbiBtb250aHMkMSAoKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgcmV0dXJuIG1vbnRocyh0aGlzLm1vbnRoKS5tYXAoZnVuY3Rpb24gKG1vbnRoLCBpbmRleCkgeyByZXR1cm4gKHtcbiAgICAgICAgbnVtYmVyOiArK2luZGV4LFxuICAgICAgICBsYWJlbDogbW9udGgsXG4gICAgICAgIHNlbGVjdGVkOiBpbmRleCA9PT0gdGhpcyQxLm1vbnRoLFxuICAgICAgICBkaXNhYmxlZDogIWluZGV4IHx8IG1vbnRoSXNEaXNhYmxlZCh0aGlzJDEubWluRGF0ZSwgdGhpcyQxLm1heERhdGUsIHRoaXMkMS55ZWFyLCBpbmRleClcbiAgICAgIH0pOyB9KVxuICAgIH1cbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QgKG1vbnRoKSB7XG4gICAgICBpZiAobW9udGguZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHBhcnNlSW50KG1vbnRoLm51bWJlcikpO1xuICAgIH0sXG5cbiAgICBzY3JvbGxUb0N1cnJlbnQ6IGZ1bmN0aW9uIHNjcm9sbFRvQ3VycmVudCAoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRNb250aCA9IHRoaXMuJHJlZnMubW9udGhMaXN0LnF1ZXJ5U2VsZWN0b3IoJy52ZGF0ZXRpbWUtbW9udGgtcGlja2VyX19pdGVtLS1zZWxlY3RlZCcpO1xuICAgICAgdGhpcy4kcmVmcy5tb250aExpc3Quc2Nyb2xsVG9wID0gc2VsZWN0ZWRNb250aCA/IHNlbGVjdGVkTW9udGgub2Zmc2V0VG9wIC0gMjUwIDogMDtcbiAgICB9XG4gIH0sXG5cbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCAoKSB7XG4gICAgdGhpcy5zY3JvbGxUb0N1cnJlbnQoKTtcbiAgfSxcblxuICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkICgpIHtcbiAgICB0aGlzLnNjcm9sbFRvQ3VycmVudCgpO1xuICB9XG59O1xuXG52YXIgS0VZX1RBQiA9IDk7XG52YXIgS0VZX0VOVEVSID0gMTM7XG52YXIgS0VZX0VTQyA9IDI3O1xuXG52YXIgRGF0ZXRpbWVQb3B1cCA9IHtyZW5kZXI6IGZ1bmN0aW9uKCl7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInZkYXRldGltZS1wb3B1cFwifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXBvcHVwX19oZWFkZXJcIn0sWyhfdm0udGl0bGUpP19jKCdkaXYnLHtzdGF0aWNDbGFzczpcInZkYXRldGltZS1wb3B1cF9fdGl0bGVcIn0sW192bS5fdihfdm0uX3MoX3ZtLnRpdGxlKSldKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLChfdm0udHlwZSAhPT0gJ3RpbWUnKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtcG9wdXBfX3llYXJcIixvbjp7XCJjbGlja1wiOl92bS5zaG93WWVhcn19LFtfdm0uX3YoX3ZtLl9zKF92bS55ZWFyKSldKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLChfdm0udHlwZSAhPT0gJ3RpbWUnKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtcG9wdXBfX2RhdGVcIixvbjp7XCJjbGlja1wiOl92bS5zaG93TW9udGh9fSxbX3ZtLl92KF92bS5fcyhfdm0uZGF0ZUZvcm1hdHRlZCkpXSk6X3ZtLl9lKCldKSxfdm0uX3YoXCIgXCIpLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInZkYXRldGltZS1wb3B1cF9fYm9keVwifSxbKF92bS5zdGVwID09PSAneWVhcicpP19jKCdkYXRldGltZS15ZWFyLXBpY2tlcicse2F0dHJzOntcIm1pbi1kYXRlXCI6X3ZtLm1pbkRhdGV0aW1lLFwibWF4LWRhdGVcIjpfdm0ubWF4RGF0ZXRpbWUsXCJ5ZWFyXCI6X3ZtLnllYXJ9LG9uOntcImNoYW5nZVwiOl92bS5vbkNoYW5nZVllYXJ9fSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSwoX3ZtLnN0ZXAgPT09ICdtb250aCcpP19jKCdkYXRldGltZS1tb250aC1waWNrZXInLHthdHRyczp7XCJtaW4tZGF0ZVwiOl92bS5taW5EYXRldGltZSxcIm1heC1kYXRlXCI6X3ZtLm1heERhdGV0aW1lLFwieWVhclwiOl92bS55ZWFyLFwibW9udGhcIjpfdm0ubW9udGh9LG9uOntcImNoYW5nZVwiOl92bS5vbkNoYW5nZU1vbnRofX0pOl92bS5fZSgpLF92bS5fdihcIiBcIiksKF92bS5zdGVwID09PSAnZGF0ZScpP19jKCdkYXRldGltZS1jYWxlbmRhcicse2F0dHJzOntcInllYXJcIjpfdm0ueWVhcixcIm1vbnRoXCI6X3ZtLm1vbnRoLFwiZGF5XCI6X3ZtLmRheSxcIm1pbi1kYXRlXCI6X3ZtLm1pbkRhdGV0aW1lLFwibWF4LWRhdGVcIjpfdm0ubWF4RGF0ZXRpbWUsXCJ3ZWVrLXN0YXJ0XCI6X3ZtLndlZWtTdGFydH0sb246e1wiY2hhbmdlXCI6X3ZtLm9uQ2hhbmdlRGF0ZX19KTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLChfdm0uc3RlcCA9PT0gJ3RpbWUnKT9fYygnZGF0ZXRpbWUtdGltZS1waWNrZXInLHthdHRyczp7XCJob3VyXCI6X3ZtLmhvdXIsXCJtaW51dGVcIjpfdm0ubWludXRlLFwidXNlMTItaG91clwiOl92bS51c2UxMkhvdXIsXCJob3VyLXN0ZXBcIjpfdm0uaG91clN0ZXAsXCJtaW51dGUtc3RlcFwiOl92bS5taW51dGVTdGVwLFwibWluLXRpbWVcIjpfdm0ubWluVGltZSxcIm1heC10aW1lXCI6X3ZtLm1heFRpbWV9LG9uOntcImNoYW5nZVwiOl92bS5vbkNoYW5nZVRpbWV9fSk6X3ZtLl9lKCldLDEpLF92bS5fdihcIiBcIiksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXBvcHVwX19hY3Rpb25zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtcG9wdXBfX2FjdGlvbnNfX2J1dHRvbiB2ZGF0ZXRpbWUtcG9wdXBfX2FjdGlvbnNfX2J1dHRvbi0tY2FuY2VsXCIsb246e1wiY2xpY2tcIjpfdm0uY2FuY2VsfX0sW192bS5fdChcImJ1dHRvbi1jYW5jZWxfX2ludGVybmFsXCIsW192bS5fdihfdm0uX3MoX3ZtLnBocmFzZXMuY2FuY2VsKSldLHtzdGVwOl92bS5zdGVwfSldLDIpLF92bS5fdihcIiBcIiksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidmRhdGV0aW1lLXBvcHVwX19hY3Rpb25zX19idXR0b24gdmRhdGV0aW1lLXBvcHVwX19hY3Rpb25zX19idXR0b24tLWNvbmZpcm1cIixvbjp7XCJjbGlja1wiOl92bS5jb25maXJtfX0sW192bS5fdChcImJ1dHRvbi1jb25maXJtX19pbnRlcm5hbFwiLFtfdm0uX3YoX3ZtLl9zKF92bS5waHJhc2VzLm9rKSldLHtzdGVwOl92bS5zdGVwfSldLDIpXSldKX0sc3RhdGljUmVuZGVyRm5zOiBbXSxcbiAgY29tcG9uZW50czoge1xuICAgIERhdGV0aW1lQ2FsZW5kYXI6IERhdGV0aW1lQ2FsZW5kYXIsXG4gICAgRGF0ZXRpbWVUaW1lUGlja2VyOiBEYXRldGltZVRpbWVQaWNrZXIsXG4gICAgRGF0ZXRpbWVZZWFyUGlja2VyOiBEYXRldGltZVllYXJQaWNrZXIsXG4gICAgRGF0ZXRpbWVNb250aFBpY2tlcjogRGF0ZXRpbWVNb250aFBpY2tlclxuICB9LFxuXG4gIHByb3BzOiB7XG4gICAgZGF0ZXRpbWU6IHtcbiAgICAgIHR5cGU6IGx1eG9uLkRhdGVUaW1lLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIHBocmFzZXM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIGRlZmF1bHQkMSAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICAgICAgICBvazogJ09rJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZGF0ZSdcbiAgICB9LFxuICAgIHVzZTEySG91cjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBob3VyU3RlcDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAgbWludXRlU3RlcDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAgbWluRGF0ZXRpbWU6IHtcbiAgICAgIHR5cGU6IGx1eG9uLkRhdGVUaW1lLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgbWF4RGF0ZXRpbWU6IHtcbiAgICAgIHR5cGU6IGx1eG9uLkRhdGVUaW1lLFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgYXV0bzoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICB3ZWVrU3RhcnQ6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIGZsb3c6IHtcbiAgICAgIHR5cGU6IEFycmF5XG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfVxuICB9LFxuXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEgKCkge1xuICAgIHZhciBmbG93TWFuYWdlciA9IHRoaXMuZmxvd1xuICAgICAgPyBjcmVhdGVGbG93TWFuYWdlcih0aGlzLmZsb3cpXG4gICAgICA6IGNyZWF0ZUZsb3dNYW5hZ2VyRnJvbVR5cGUodGhpcy50eXBlKTtcblxuICAgIHJldHVybiB7XG4gICAgICBuZXdEYXRldGltZTogdGhpcy5kYXRldGltZSxcbiAgICAgIGZsb3dNYW5hZ2VyOiBmbG93TWFuYWdlcixcbiAgICAgIHN0ZXA6IGZsb3dNYW5hZ2VyLmZpcnN0KCksXG4gICAgICB0aW1lUGFydHNUb3VjaGVkOiBbXVxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24pO1xuICB9LFxuXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3kgKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bik7XG4gIH0sXG5cbiAgY29tcHV0ZWQ6IHtcbiAgICB5ZWFyOiBmdW5jdGlvbiB5ZWFyICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5ld0RhdGV0aW1lLnllYXJcbiAgICB9LFxuICAgIG1vbnRoOiBmdW5jdGlvbiBtb250aCAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXdEYXRldGltZS5tb250aFxuICAgIH0sXG4gICAgZGF5OiBmdW5jdGlvbiBkYXkgKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV3RGF0ZXRpbWUuZGF5XG4gICAgfSxcbiAgICBob3VyOiBmdW5jdGlvbiBob3VyICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5ld0RhdGV0aW1lLmhvdXJcbiAgICB9LFxuICAgIG1pbnV0ZTogZnVuY3Rpb24gbWludXRlICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5ld0RhdGV0aW1lLm1pbnV0ZVxuICAgIH0sXG4gICAgZGF0ZUZvcm1hdHRlZDogZnVuY3Rpb24gZGF0ZUZvcm1hdHRlZCAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXdEYXRldGltZS50b0xvY2FsZVN0cmluZyh7XG4gICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgIGRheTogJ251bWVyaWMnXG4gICAgICB9KVxuICAgIH0sXG4gICAgbWluVGltZTogZnVuY3Rpb24gbWluVGltZSAoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLm1pbkRhdGV0aW1lICYmXG4gICAgICAgIHRoaXMubWluRGF0ZXRpbWUueWVhciA9PT0gdGhpcy55ZWFyICYmXG4gICAgICAgIHRoaXMubWluRGF0ZXRpbWUubW9udGggPT09IHRoaXMubW9udGggJiZcbiAgICAgICAgdGhpcy5taW5EYXRldGltZS5kYXkgPT09IHRoaXMuZGF5XG4gICAgICApID8gdGhpcy5taW5EYXRldGltZS50b0Zvcm1hdCgnSEg6bW0nKSA6IG51bGxcbiAgICB9LFxuICAgIG1heFRpbWU6IGZ1bmN0aW9uIG1heFRpbWUgKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5tYXhEYXRldGltZSAmJlxuICAgICAgICB0aGlzLm1heERhdGV0aW1lLnllYXIgPT09IHRoaXMueWVhciAmJlxuICAgICAgICB0aGlzLm1heERhdGV0aW1lLm1vbnRoID09PSB0aGlzLm1vbnRoICYmXG4gICAgICAgIHRoaXMubWF4RGF0ZXRpbWUuZGF5ID09PSB0aGlzLmRheVxuICAgICAgKSA/IHRoaXMubWF4RGF0ZXRpbWUudG9Gb3JtYXQoJ0hIOm1tJykgOiBudWxsXG4gICAgfVxuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBuZXh0U3RlcDogZnVuY3Rpb24gbmV4dFN0ZXAgKCkge1xuICAgICAgdGhpcy5zdGVwID0gdGhpcy5mbG93TWFuYWdlci5uZXh0KHRoaXMuc3RlcCk7XG4gICAgICB0aGlzLnRpbWVQYXJ0c1RvdWNoZWQgPSBbXTtcblxuICAgICAgaWYgKHRoaXMuc3RlcCA9PT0gJ2VuZCcpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnY29uZmlybScsIHRoaXMubmV3RGF0ZXRpbWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd1llYXI6IGZ1bmN0aW9uIHNob3dZZWFyICgpIHtcbiAgICAgIHRoaXMuc3RlcCA9ICd5ZWFyJztcbiAgICAgIHRoaXMuZmxvd01hbmFnZXIuZGl2ZXJzaW9uKCdkYXRlJyk7XG4gICAgfSxcbiAgICBzaG93TW9udGg6IGZ1bmN0aW9uIHNob3dNb250aCAoKSB7XG4gICAgICB0aGlzLnN0ZXAgPSAnbW9udGgnO1xuICAgICAgdGhpcy5mbG93TWFuYWdlci5kaXZlcnNpb24oJ2RhdGUnKTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0gKCkge1xuICAgICAgdGhpcy5uZXh0U3RlcCgpO1xuICAgIH0sXG4gICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwgKCkge1xuICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJyk7XG4gICAgfSxcbiAgICBvbkNoYW5nZVllYXI6IGZ1bmN0aW9uIG9uQ2hhbmdlWWVhciAoeWVhcikge1xuICAgICAgdGhpcy5uZXdEYXRldGltZSA9IHRoaXMubmV3RGF0ZXRpbWUuc2V0KHsgeWVhcjogeWVhciB9KTtcblxuICAgICAgaWYgKHRoaXMuYXV0bykge1xuICAgICAgICB0aGlzLm5leHRTdGVwKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkNoYW5nZU1vbnRoOiBmdW5jdGlvbiBvbkNoYW5nZU1vbnRoIChtb250aCkge1xuICAgICAgdGhpcy5uZXdEYXRldGltZSA9IHRoaXMubmV3RGF0ZXRpbWUuc2V0KHsgbW9udGg6IG1vbnRoIH0pO1xuXG4gICAgICBpZiAodGhpcy5hdXRvKSB7XG4gICAgICAgIHRoaXMubmV4dFN0ZXAoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uQ2hhbmdlRGF0ZTogZnVuY3Rpb24gb25DaGFuZ2VEYXRlICh5ZWFyLCBtb250aCwgZGF5KSB7XG4gICAgICB0aGlzLm5ld0RhdGV0aW1lID0gdGhpcy5uZXdEYXRldGltZS5zZXQoeyB5ZWFyOiB5ZWFyLCBtb250aDogbW9udGgsIGRheTogZGF5IH0pO1xuXG4gICAgICBpZiAodGhpcy5hdXRvKSB7XG4gICAgICAgIHRoaXMubmV4dFN0ZXAoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uQ2hhbmdlVGltZTogZnVuY3Rpb24gb25DaGFuZ2VUaW1lIChyZWYpIHtcbiAgICAgIHZhciBob3VyID0gcmVmLmhvdXI7XG4gICAgICB2YXIgbWludXRlID0gcmVmLm1pbnV0ZTtcbiAgICAgIHZhciBzdWZmaXhUb3VjaGVkID0gcmVmLnN1ZmZpeFRvdWNoZWQ7XG5cbiAgICAgIGlmIChzdWZmaXhUb3VjaGVkKSB7XG4gICAgICAgIHRoaXMudGltZVBhcnRzVG91Y2hlZFsnc3VmZml4J10gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihob3VyKSkge1xuICAgICAgICB0aGlzLm5ld0RhdGV0aW1lID0gdGhpcy5uZXdEYXRldGltZS5zZXQoeyBob3VyOiBob3VyIH0pO1xuICAgICAgICB0aGlzLnRpbWVQYXJ0c1RvdWNoZWRbJ2hvdXInXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKG1pbnV0ZSkpIHtcbiAgICAgICAgdGhpcy5uZXdEYXRldGltZSA9IHRoaXMubmV3RGF0ZXRpbWUuc2V0KHsgbWludXRlOiBtaW51dGUgfSk7XG4gICAgICAgIHRoaXMudGltZVBhcnRzVG91Y2hlZFsnbWludXRlJ10gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZ29OZXh0ID0gdGhpcy5hdXRvICYmIHRoaXMudGltZVBhcnRzVG91Y2hlZFsnaG91ciddICYmIHRoaXMudGltZVBhcnRzVG91Y2hlZFsnbWludXRlJ10gJiYgKFxuICAgICAgICB0aGlzLnRpbWVQYXJ0c1RvdWNoZWRbJ3N1ZmZpeCddIHx8XG4gICAgICAgICF0aGlzLnVzZTEySG91clxuICAgICAgKTtcblxuICAgICAgaWYgKGdvTmV4dCkge1xuICAgICAgICB0aGlzLm5leHRTdGVwKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93biAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICBjYXNlIEtFWV9FU0M6XG4gICAgICAgIGNhc2UgS0VZX1RBQjpcbiAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSBLRVlfRU5URVI6XG4gICAgICAgICAgdGhpcy5uZXh0U3RlcCgpO1xuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgRGF0ZXRpbWUgPSB7cmVuZGVyOiBmdW5jdGlvbigpe3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWVcIn0sW192bS5fdChcImJlZm9yZVwiKSxfdm0uX3YoXCIgXCIpLF9jKCdpbnB1dCcsX3ZtLl9nKF92bS5fYih7c3RhdGljQ2xhc3M6XCJ2ZGF0ZXRpbWUtaW5wdXRcIixjbGFzczpfdm0uaW5wdXRDbGFzcyxzdHlsZTooX3ZtLmlucHV0U3R5bGUpLGF0dHJzOntcImlkXCI6X3ZtLmlucHV0SWQsXCJ0eXBlXCI6XCJ0ZXh0XCJ9LGRvbVByb3BzOntcInZhbHVlXCI6X3ZtLmlucHV0VmFsdWV9LG9uOntcImNsaWNrXCI6X3ZtLm9wZW4sXCJmb2N1c1wiOl92bS5vcGVufX0sJ2lucHV0Jyxfdm0uJGF0dHJzLGZhbHNlKSxfdm0uJGxpc3RlbmVycykpLF92bS5fdihcIiBcIiksKF92bS5oaWRkZW5OYW1lKT9fYygnaW5wdXQnLHthdHRyczp7XCJ0eXBlXCI6XCJoaWRkZW5cIixcIm5hbWVcIjpfdm0uaGlkZGVuTmFtZX0sZG9tUHJvcHM6e1widmFsdWVcIjpfdm0udmFsdWV9LG9uOntcImlucHV0XCI6X3ZtLnNldFZhbHVlfX0pOl92bS5fZSgpLF92bS5fdihcIiBcIiksX3ZtLl90KFwiYWZ0ZXJcIiksX3ZtLl92KFwiIFwiKSxfYygndHJhbnNpdGlvbi1ncm91cCcse2F0dHJzOntcIm5hbWVcIjpcInZkYXRldGltZS1mYWRlXCIsXCJ0YWdcIjpcImRpdlwifX0sWyhfdm0uaXNPcGVuICYmICFfdm0uaGlkZUJhY2tkcm9wKT9fYygnZGl2Jyx7a2V5Olwib3ZlcmxheVwiLHN0YXRpY0NsYXNzOlwidmRhdGV0aW1lLW92ZXJsYXlcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7aWYoJGV2ZW50LnRhcmdldCAhPT0gJGV2ZW50LmN1cnJlbnRUYXJnZXQpeyByZXR1cm4gbnVsbDsgfV92bS5jbGlja091dHNpZGUoJGV2ZW50KTt9fX0pOl92bS5fZSgpLF92bS5fdihcIiBcIiksKF92bS5pc09wZW4pP19jKCdkYXRldGltZS1wb3B1cCcse2tleTpcInBvcHVwXCIsYXR0cnM6e1widHlwZVwiOl92bS50eXBlLFwiZGF0ZXRpbWVcIjpfdm0ucG9wdXBEYXRlLFwicGhyYXNlc1wiOl92bS5waHJhc2VzLFwidXNlMTItaG91clwiOl92bS51c2UxMkhvdXIsXCJob3VyLXN0ZXBcIjpfdm0uaG91clN0ZXAsXCJtaW51dGUtc3RlcFwiOl92bS5taW51dGVTdGVwLFwibWluLWRhdGV0aW1lXCI6X3ZtLnBvcHVwTWluRGF0ZXRpbWUsXCJtYXgtZGF0ZXRpbWVcIjpfdm0ucG9wdXBNYXhEYXRldGltZSxcImF1dG9cIjpfdm0uYXV0byxcIndlZWstc3RhcnRcIjpfdm0ud2Vla1N0YXJ0LFwiZmxvd1wiOl92bS5mbG93LFwidGl0bGVcIjpfdm0udGl0bGV9LG9uOntcImNvbmZpcm1cIjpfdm0uY29uZmlybSxcImNhbmNlbFwiOl92bS5jYW5jZWx9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImJ1dHRvbi1jYW5jZWxfX2ludGVybmFsXCIsZm46ZnVuY3Rpb24oc2NvcGUpe3JldHVybiBbX3ZtLl90KFwiYnV0dG9uLWNhbmNlbFwiLFtfdm0uX3YoX3ZtLl9zKF92bS5waHJhc2VzLmNhbmNlbCkpXSx7c3RlcDpzY29wZS5zdGVwfSldfX0se2tleTpcImJ1dHRvbi1jb25maXJtX19pbnRlcm5hbFwiLGZuOmZ1bmN0aW9uKHNjb3BlKXtyZXR1cm4gW192bS5fdChcImJ1dHRvbi1jb25maXJtXCIsW192bS5fdihfdm0uX3MoX3ZtLnBocmFzZXMub2spKV0se3N0ZXA6c2NvcGUuc3RlcH0pXX19XSl9KTpfdm0uX2UoKV0sMSldLDIpfSxzdGF0aWNSZW5kZXJGbnM6IFtdLFxuICBjb21wb25lbnRzOiB7XG4gICAgRGF0ZXRpbWVQb3B1cDogRGF0ZXRpbWVQb3B1cFxuICB9LFxuXG4gIGluaGVyaXRBdHRyczogZmFsc2UsXG5cbiAgcHJvcHM6IHtcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICB2YWx1ZVpvbmU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdVVEMnXG4gICAgfSxcbiAgICBpbnB1dElkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBpbnB1dENsYXNzOiB7XG4gICAgICB0eXBlOiBbT2JqZWN0LCBBcnJheSwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBpbnB1dFN0eWxlOiB7XG4gICAgICB0eXBlOiBbT2JqZWN0LCBBcnJheSwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBoaWRkZW5OYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHpvbmU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdsb2NhbCdcbiAgICB9LFxuICAgIGZvcm1hdDoge1xuICAgICAgdHlwZTogW09iamVjdCwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkYXRlJ1xuICAgIH0sXG4gICAgcGhyYXNlczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gZGVmYXVsdCQxICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgICAgICAgIG9rOiAnT2snXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHVzZTEySG91cjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBob3VyU3RlcDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAgbWludXRlU3RlcDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAgbWluRGF0ZXRpbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIG1heERhdGV0aW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBhdXRvOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIHdlZWtTdGFydDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogZnVuY3Rpb24gZGVmYXVsdCQyICgpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtTdGFydCgpXG4gICAgICB9XG4gICAgfSxcbiAgICBmbG93OiB7XG4gICAgICB0eXBlOiBBcnJheVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgaGlkZUJhY2tkcm9wOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGJhY2tkcm9wQ2xpY2s6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfVxuICB9LFxuXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgZGF0ZXRpbWU6IGRhdGV0aW1lRnJvbUlTTyh0aGlzLnZhbHVlKVxuICAgIH1cbiAgfSxcblxuICB3YXRjaDoge1xuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSAobmV3VmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0ZXRpbWUgPSBkYXRldGltZUZyb21JU08obmV3VmFsdWUpO1xuICAgIH1cbiAgfSxcblxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcbiAgICB0aGlzLmVtaXRJbnB1dCgpO1xuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgaW5wdXRWYWx1ZTogZnVuY3Rpb24gaW5wdXRWYWx1ZSAoKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG5cbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICBmb3JtYXQgPSBsdXhvbi5EYXRlVGltZS5EQVRFX01FRDtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgICBmb3JtYXQgPSBsdXhvbi5EYXRlVGltZS5USU1FXzI0X1NJTVBMRTtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnZGF0ZXRpbWUnOlxuICAgICAgICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgICAgICAgZm9ybWF0ID0gbHV4b24uRGF0ZVRpbWUuREFURVRJTUVfTUVEO1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZXRpbWUgPyBsdXhvbi5EYXRlVGltZS5mcm9tSVNPKHRoaXMuZGF0ZXRpbWUpLnNldFpvbmUodGhpcy56b25lKS50b0Zvcm1hdChmb3JtYXQpIDogJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGV0aW1lID8gdGhpcy5kYXRldGltZS5zZXRab25lKHRoaXMuem9uZSkudG9Mb2NhbGVTdHJpbmcoZm9ybWF0KSA6ICcnXG4gICAgICB9XG4gICAgfSxcbiAgICBwb3B1cERhdGU6IGZ1bmN0aW9uIHBvcHVwRGF0ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRldGltZSA/IHRoaXMuZGF0ZXRpbWUuc2V0Wm9uZSh0aGlzLnpvbmUpIDogdGhpcy5uZXdQb3B1cERhdGV0aW1lKClcbiAgICB9LFxuICAgIHBvcHVwTWluRGF0ZXRpbWU6IGZ1bmN0aW9uIHBvcHVwTWluRGF0ZXRpbWUgKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWluRGF0ZXRpbWUgPyBsdXhvbi5EYXRlVGltZS5mcm9tSVNPKHRoaXMubWluRGF0ZXRpbWUpLnNldFpvbmUodGhpcy56b25lKSA6IG51bGxcbiAgICB9LFxuICAgIHBvcHVwTWF4RGF0ZXRpbWU6IGZ1bmN0aW9uIHBvcHVwTWF4RGF0ZXRpbWUgKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF4RGF0ZXRpbWUgPyBsdXhvbi5EYXRlVGltZS5mcm9tSVNPKHRoaXMubWF4RGF0ZXRpbWUpLnNldFpvbmUodGhpcy56b25lKSA6IG51bGxcbiAgICB9XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGVtaXRJbnB1dDogZnVuY3Rpb24gZW1pdElucHV0ICgpIHtcbiAgICAgIHZhciBkYXRldGltZSA9IHRoaXMuZGF0ZXRpbWUgPyB0aGlzLmRhdGV0aW1lLnNldFpvbmUodGhpcy52YWx1ZVpvbmUpIDogbnVsbDtcblxuICAgICAgaWYgKGRhdGV0aW1lICYmIHRoaXMudHlwZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIGRhdGV0aW1lID0gc3RhcnRPZkRheShkYXRldGltZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZGF0ZXRpbWUgPyBkYXRldGltZS50b0lTTygpIDogJycpO1xuICAgIH0sXG4gICAgb3BlbjogZnVuY3Rpb24gb3BlbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG5cbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSAoKSB7XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0gKGRhdGV0aW1lKSB7XG4gICAgICB0aGlzLmRhdGV0aW1lID0gZGF0ZXRpbWUudG9VVEMoKTtcbiAgICAgIHRoaXMuZW1pdElucHV0KCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSxcbiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCAoKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSxcbiAgICBjbGlja091dHNpZGU6IGZ1bmN0aW9uIGNsaWNrT3V0c2lkZSAoKSB7XG4gICAgICBpZiAodGhpcy5iYWNrZHJvcENsaWNrID09PSB0cnVlKSB7IHRoaXMuY2FuY2VsKCk7IH1cbiAgICB9LFxuICAgIG5ld1BvcHVwRGF0ZXRpbWU6IGZ1bmN0aW9uIG5ld1BvcHVwRGF0ZXRpbWUgKCkge1xuICAgICAgdmFyIGRhdGV0aW1lID0gbHV4b24uRGF0ZVRpbWUudXRjKCkuc2V0Wm9uZSh0aGlzLnpvbmUpLnNldCh7IHNlY29uZHM6IDAsIG1pbGxpc2Vjb25kczogMCB9KTtcblxuICAgICAgaWYgKHRoaXMucG9wdXBNaW5EYXRldGltZSAmJiBkYXRldGltZSA8IHRoaXMucG9wdXBNaW5EYXRldGltZSkge1xuICAgICAgICBkYXRldGltZSA9IHRoaXMucG9wdXBNaW5EYXRldGltZS5zZXQoeyBzZWNvbmRzOiAwLCBtaWxsaXNlY29uZHM6IDAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBvcHVwTWF4RGF0ZXRpbWUgJiYgZGF0ZXRpbWUgPiB0aGlzLnBvcHVwTWF4RGF0ZXRpbWUpIHtcbiAgICAgICAgZGF0ZXRpbWUgPSB0aGlzLnBvcHVwTWF4RGF0ZXRpbWUuc2V0KHsgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5taW51dGVTdGVwID09PSAxKSB7XG4gICAgICAgIHJldHVybiBkYXRldGltZVxuICAgICAgfVxuXG4gICAgICB2YXIgcm91bmRlZE1pbnV0ZSA9IE1hdGgucm91bmQoZGF0ZXRpbWUubWludXRlIC8gdGhpcy5taW51dGVTdGVwKSAqIHRoaXMubWludXRlU3RlcDtcblxuICAgICAgaWYgKHJvdW5kZWRNaW51dGUgPT09IDYwKSB7XG4gICAgICAgIHJldHVybiBkYXRldGltZS5wbHVzKHsgaG91cnM6IDEgfSkuc2V0KHsgbWludXRlOiAwIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRldGltZS5zZXQoeyBtaW51dGU6IHJvdW5kZWRNaW51dGUgfSlcbiAgICB9LFxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSAoZXZlbnQpIHtcbiAgICAgIHRoaXMuZGF0ZXRpbWUgPSBkYXRldGltZUZyb21JU08oZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgIHRoaXMuZW1pdElucHV0KCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBwbHVnaW4gKFZ1ZSkge1xuICBWdWUuY29tcG9uZW50KCdkYXRldGltZScsIERhdGV0aW1lKTtcbiAgVnVlLmNvbXBvbmVudCgnZGF0ZXRpbWUtcG9wdXAnLCBEYXRldGltZVBvcHVwKTtcbn1cblxuLy8gSW5zdGFsbCBieSBkZWZhdWx0IGlmIHVzaW5nIHRoZSBzY3JpcHQgdGFnXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZ1ZSkge1xuICB3aW5kb3cuVnVlLnVzZShwbHVnaW4pO1xufVxuXG52YXIgdmVyc2lvbiA9ICcxLjAuMC1iZXRhLjE0JztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gcGx1Z2luO1xuZXhwb3J0cy5EYXRldGltZSA9IERhdGV0aW1lO1xuZXhwb3J0cy5EYXRldGltZVBvcHVwID0gRGF0ZXRpbWVQb3B1cDtcbmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb247XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-datetime/dist/vue-datetime.js\n");

/***/ })

}]);